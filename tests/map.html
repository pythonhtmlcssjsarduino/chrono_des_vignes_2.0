<html>
	<head>
		<title>Getting coordinates from a Leaflet map</title>
		<meta charset="utf-8">
		 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
            integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
            crossorigin=""/>
		 <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
	</head>
	<body>
		<div id="map" style="height: 400px; width: 400px"></div>
		<script type="text/javascript">

			function main() {

				let options = {
					center: [40.420488, -3.705878],
					zoom: 12,
				}
				
				let map = L.map('map', options);

				L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    maxZoom: 19,
                    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                }).addTo(map);

				let marker = L.marker([40.420488, -3.705878]).addTo(map);

				map.on('click', 
					function(e){
                        marker.setLatLng(e.latlng)
					});
			}
			window.addEventListener("load", main);
		</script>
	</body>
</html>