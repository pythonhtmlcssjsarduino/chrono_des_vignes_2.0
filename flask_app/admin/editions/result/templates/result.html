{% extends "layout.html" %}
{% block content %}
    <h1>{{ _('admin.editions.result.results') }}</h1>

    <div>
        <a href="{{ url_for('admin.editions.result.pdf_result', edition_name=edition_data.name, event_name=event_data.name) }}" target="_blank" rel="noopener noreferrer">view result pdf <i class="fa fa-arrow-up-right-from-square" aria-hidden="true"></i></a>
        <br>
        <a href="{{ url_for('admin.editions.result.pdf_result', edition_name=edition_data.name, event_name=event_data.name, download=True) }}">download result pdf <i class="fa-solid fa-download"></i></i></a>
        <br>
        <a href="{{ url_for('admin.editions.result.xlsx_result', edition_name=edition_data.name, event_name=event_data.name, download=True) }}">download result excel <i class="fa-solid fa-download"></i></i></a>
    </div>

    {% for parcours, data in result_data.items() %}
        <h2>{{ parcours }}</h2>
        <table class="table table-striped table-info">
            <thead>
                <tr>
                    <th scope="col">{{ _('admin.editions.result.place') }}</th>
                    <th scope="col">{{ _('admin.editions.result.nom') }}</th>
                    <th scope="col">{{ _('admin.editions.result.pr√©nom') }}</th>
                    <th scope="col">{{ _('admin.editions.result.dossard') }}</th>
                    <th scope="col">{{ _('admin.editions.result.temps') }}</th>
                </tr>
            </thead>
            <tbody>
                {% for row in data %}
                    <tr>
                        <th scope="row">{{ row.rank }}</th>
                        <td>{{ row.name }}</td>
                        <td>{{ row.lastname }}</td>
                        <td>{{ row.dossard }}</td>
                        <td>{{ row.time }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <script>
            $('table tbody tr').on('click', function() {
            window.location.href = $(this).data('href');
            });
        </script>
    {% endfor %}
{% endblock content %}